+(function(d,b){var c="placepicker";var e={map:"",mapIconClass:"fa fa-globe",mapOptions:{zoom:15,streetViewControl:false},places:{icons:false},autoCompleteOptions:{},placeChanged:null,location:null,preventSubmit:true};function f(j,k){var v=this;var o=null;var u,w,m;var A=null;var z;var y=null;var g=null;function q(C){if(!C){return}var B={query:C};if(A){A.textSearch(B,function(F,D){if(D===google.maps.places.PlacesServiceStatus.OK){for(var E=0;E<F.length;E++){s(F[E]);return}}})}}function n(B){o.geocode({latLng:B},function(E,D){if(D===google.maps.GeocoderStatus.OK){if(E[0]){var C=E[0];s(C,false)}else{}}else{}})}function l(){u=d(j).closest(".location-tik").find(".placepicker-map").get(0);return u?true:false}function p(){if(!l()){return}w=new google.maps.Map(u,k.mapOptions);z.bindTo("bounds",w);google.maps.event.addListener(w,"click",function(B){var C=B.latLng;m.setPosition(C);w.panTo(C);j.blur();n(C)});m=new google.maps.Marker({map:w});A=new google.maps.places.PlacesService(w);d(u).parent().on("show.bs.collapse",function(B){d(B.target).css("display","block").find("img[src*='gstatic.com/'], img[src*='googleapis.com/']").css("max-width","none");if(!j.value){v.geoLocation()}else{v.resize()}d(B.target).css("display","")})}function x(){z=new google.maps.places.Autocomplete(j,k.autoCompleteOptions);google.maps.event.addListener(z,"place_changed",function(){var B=z.getPlace();if(B.geometry){s(B)}})}function t(){v.resize.call(v)}function i(){var B=(j.addEventListener)?j.addEventListener:j.attachEvent;function C(D,E){if(D==="keydown"){var F=E;E=function(I){var G=d(".pac-item-selected").length>0;if((I.which===13||I.keyCode===13)&&!G){var H=d.Event("keydown",{keyCode:40,which:40});F.apply(j,[H])}F.apply(j,[I])}}B.apply(j,[D,E])}j.addEventListener=C;j.attachEvent=C}function r(){o=new google.maps.Geocoder();i();x();p();if(!j.value){var C=k.latitude||d(k.latitudeInput).prop("value");var B=k.longitude||d(k.longitudeInput).prop("value");if(C&&B){v.setLocation(C,B)}}else{q(j.value)}d(b).on("resize",t);d(j).on("keypress",function(D){if(k.preventSubmit&&D.keyCode===13){D.preventDefault();D.stopImmediatePropagation()}})}function s(C,B){B=typeof B==="undefined"?true:false;y=C;v.resize();var D=C.geometry.location;if(B){h(D)}d(k.latitudeInput).prop("value",D.lat());d(k.longitudeInput).prop("value",D.lng());if(!B){j.value=C.formatted_address}if(typeof k.placeChanged==="function"){k.placeChanged.call(v,C)}}function h(D){if(!w){return}w.setCenter(D);var B=k.icon||k.placesIcon&&place.icon?place.icon:null;if(B){var C={url:B,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(35,35)};m.setIcon(C)}m.setPosition(D);m.setVisible(true)}this.setValue=function(B){j.value=B;q(B)};this.getValue=function(){return j.value};this.setLocation=function(D,C){var B=new google.maps.LatLng(D,C);this.setLatLng(B)};this.getLocation=function(){var B=this.getLatLng();return{latitude:B&&B.lat()||k.latitude,longitude:B&&B.lng()||k.longitude}};this.setLatLng=function(B){g=B;n(g)};this.getLatLng=function(){if(y&&y.geometry){return y.geometry.location}return g};this.getMap=function(){return w};this.reload=function(){if(w){q(j.value)}};this.resize=function(){if(w){var B=w.getCenter();google.maps.event.trigger(w,"resize");w.setCenter(B)}};this.geoLocation=function(B){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(C){var D=new google.maps.LatLng(C.coords.latitude,C.coords.longitude);h(D);n(D);if(B){B(D)}},function(){if(B){B(null)}})}else{if(B){B(null)}}};r.call(this)}var a=f;d.fn[c]=function(g){return this.each(function(){if(!d(this).data(c)){d(this).data(c,new a(this,d.extend({},e,g,d(this).data())))}return d(this)})}})(jQuery,window);